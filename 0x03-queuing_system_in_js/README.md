Queuing System practice in JavaScript